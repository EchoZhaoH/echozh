{"version":3,"sources":["api/index.ts","utils/getHref.ts","components/article/index.tsx","components/entry/index.tsx","App.tsx","hooks/useDark.ts","assets/images/stage-1.jpeg","components/v-world/index.tsx","route.tsx","index.tsx"],"names":["request","input","option","fetch","then","res","status","ok","json","Error","catch","e","console","log","message","getHref","history","path","params","createHref","pathname","generatePath","Article","props","useState","data","setData","useEffect","id","dangerouslySetInnerHTML","__html","className","Entry","useHistory","rootHref","vWorldHref","list","setList","Group","Heading","text","href","outlined","minimal","Divider","icon","map","l","to","title","date","App","listener","matches","window","document","body","classList","add","remove","media","matchMedia","addEventListener","removeEventListener","VWorld","ref","useRef","el","current","scene","THREE","camera","innerWidth","innerHeight","renderer","setSize","appendChild","domElement","geometry","material","load","bgImg","cube","bgTexture","mapping","wrapS","wrapT","repeat","set","background","position","z","timer","animate","requestAnimationFrame","rotation","x","y","render","cancelAnimationFrame","RoutesMap","exact","component","match","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d6bfa06d.chunk.js","sourcesContent":["export function request<T>(input: RequestInfo, option?: RequestInit) {\n  return fetch(input, option).then(res => {\n    const status = res.status\n    if (status === 200 && res.ok) {\n      return res.json() as Promise<T>\n    } else {\n      throw Error('request error')\n    }\n  }).catch(e => {\n    console.log(e.message)\n  })\n}\n","import { generatePath } from 'react-router-dom';\nimport { ExtractRouteParams } from 'react-router'\nimport * as H from 'history'\n\nexport function getHref(history: H.History, path: string, params?: ExtractRouteParams<string>) {\n  const link = history.createHref({\n    pathname: generatePath(path, params)\n  })\n  return link\n}","import { request } from \"@/api\"\nimport { useEffect, useState } from \"react\"\nimport { RouterProps } from \"react-router-dom\"\n\ninterface ArticleProps extends RouterProps {\n  id: string;\n}\n\nexport function Article(props: ArticleProps) {\n  const [ data, setData ] = useState<string>('')\n  console.log(props)\n  useEffect(() => {\n    request(`/articles/${props.id}.json`).then(res => {\n      if (!res) {\n        return\n      }\n      setData((res as any).data)\n    })\n  }, [props.id])\n  return (\n    <div dangerouslySetInnerHTML={{ __html: data }} className=\"container-bg\"></div>\n  )\n}","import { request } from '@/api';\nimport { getHref } from '@/utils/getHref';\nimport { AnchorButton, Navbar } from '@blueprintjs/core'\nimport { Article } from '@components/article'\nimport { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\ninterface Article { id: string; title: string; date: string }\n\nexport function Entry() {\n  const history = useHistory()\n  const rootHref = getHref(history, '/')\n  const vWorldHref = getHref(history, '/v-world')\n  const [list, setList] = useState<Article[]>([])\n  useEffect(() => {\n    request<Article[]>('/articles/list.json').then(res => {\n      setList(res || [])\n    })\n  }, [])\n  return (\n    <div className=\"container-bg\">\n      <Navbar>\n        <Navbar.Group>\n          <Navbar.Heading>\n            <AnchorButton text=\"ECHOZH\" href={rootHref} outlined={false} minimal />\n          </Navbar.Heading>\n          <Navbar.Divider />\n          <AnchorButton\n            icon=\"document\"\n            text=\"文章\"\n            outlined={false}\n            minimal\n            href={rootHref}\n          />\n          <AnchorButton\n            icon=\"hand-right\"\n            text=\"瞎搞\"\n            outlined={false}\n            minimal\n            href={vWorldHref}\n          />\n        </Navbar.Group>\n      </Navbar>\n      <div>\n        {list.map(l => (\n          <div key={l.id}>\n            <h3><Link to={`/articles/${l.id}`}>{l.title}</Link></h3>\n            <p>{l.date}</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Entry } from '@components/entry';\nimport { useDark } from './hooks';\n\nfunction App() {\n  useDark()\n  return (\n    <Entry />\n  );\n}\n\nexport default App\n","import { useEffect } from \"react\";\n\nexport function useDark() {\n  useEffect(() => {\n    const listener = (e: MediaQueryListEvent) => {\n      if (!e.matches) {\n        window.document.body.classList.remove('bp3-dark')\n        return\n      }\n      window.document.body.classList.add('bp3-dark')\n    }\n    const media = window.matchMedia('(prefers-color-scheme: dark)')\n    if (media.matches) {\n      window.document.body.classList.add('bp3-dark')\n    } else {\n      window.document.body.classList.remove('bp3-dark')\n    }\n    media.addEventListener('change', listener);\n    return () => {\n      media.removeEventListener('change', listener)\n    }\n  }, [])\n}","export default __webpack_public_path__ + \"static/media/stage-1.ea9dd4be.jpeg\";","import { useEffect, useRef } from 'react';\nimport * as THREE from 'three';\n\nimport bgImg from '@assets/images/stage-1.jpeg';\n\nexport default function VWorld() {\n  const ref = useRef<HTMLDivElement>(null);\n\n  // 创建场景\n  useEffect(() => {\n    const el = ref.current;\n    if (!el) {\n      return;\n    }\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n\n    const renderer = new THREE.WebGLRenderer();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    el.appendChild(renderer.domElement);\n\n    const geometry = new THREE.SphereGeometry();\n    const material = new THREE.MeshBasicMaterial({\n      map: new THREE.TextureLoader().load(bgImg),\n    });\n    const cube = new THREE.Mesh(geometry, material);\n    scene.add(cube);\n    const bgTexture = new THREE.TextureLoader().load(bgImg);\n    bgTexture.mapping = THREE.CubeRefractionMapping;\n    bgTexture.wrapS = THREE.RepeatWrapping;\n    bgTexture.wrapT = THREE.RepeatWrapping;\n    bgTexture.repeat.set(1, 1);\n    scene.background = bgTexture;\n\n    camera.position.z = 5;\n    let timer: number | null = null;\n    const animate = function () {\n      timer = requestAnimationFrame(animate);\n\n      cube.rotation.x += 0.01;\n      cube.rotation.y += 0.01;\n\n      renderer.render(scene, camera);\n    };\n    animate();\n    return () => {\n      cancelAnimationFrame(timer);\n    };\n  }, []);\n  return (\n    <div ref={ref} />\n  );\n}\n","import {\n  HashRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom'\n\nimport App from './App'\nimport { Article } from './components/article'\nimport VWorld from './components/v-world'\n\nexport function RoutesMap() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/v-world\" component={VWorld} />\n        <Route exact path=\"/articles/:id\" render={props => <Article id={props.match.params.id} {...props} />} />\n        <Route path=\"/\" component={App} />\n      </Switch>\n    </Router>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { RoutesMap } from './route';\n\nimport \"@style/theme.scss\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <RoutesMap />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}