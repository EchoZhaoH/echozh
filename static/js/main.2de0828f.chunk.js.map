{"version":3,"sources":["hooks/useHref.ts","components/article/index.tsx","api/index.ts","components/entry/index.tsx","App.tsx","hooks/useDark.ts","assets/images/stage-1.jpeg","components/v-world/index.tsx","route.tsx","index.tsx"],"names":["useHref","path","params","useState","href","setHref","link","useHistory","createHref","pathname","useEffect","generatePath","Article","data","setData","input","option","fetch","then","res","status","ok","json","Error","catch","e","console","log","message","dangerouslySetInnerHTML","__html","Entry","rootHref","vWorldHref","className","Group","Heading","text","outlined","minimal","Divider","icon","App","listener","matches","window","document","body","classList","add","remove","media","matchMedia","addEventListener","removeEventListener","VWorld","ref","useRef","el","current","scene","THREE","camera","innerWidth","innerHeight","renderer","setSize","appendChild","domElement","geometry","material","map","load","bgImg","cube","bgTexture","mapping","wrapS","wrapT","repeat","set","background","position","z","timer","animate","requestAnimationFrame","rotation","x","y","render","cancelAnimationFrame","RoutesMap","exact","component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2de0828f.chunk.js","sourcesContent":["import { useEffect } from 'react';\nimport { generatePath, useHistory } from 'react-router-dom';\nimport { ExtractRouteParams } from 'react-router'\nimport { useState } from 'react';\n\nexport function useHref(path: string, params?: ExtractRouteParams<string>) {\n  const [href, setHref] = useState<string>('')\n  const history = useHistory()\n  const link = history.createHref({\n    pathname: href\n  })\n  useEffect(() => {\n    setHref(generatePath(path, params))\n  }, [path, params])\n  return link\n}","import { request } from \"@/api\"\nimport { useEffect, useState } from \"react\"\n\nexport function Article() {\n  const [ data, setData ] = useState<string>('')\n  useEffect(() => {\n    request('/articles/hello.json').then(res => {\n      if (!res) {\n        return\n      }\n      setData((res as any).data)\n    })\n  }, [])\n  return (\n    <div dangerouslySetInnerHTML={{ __html: data }}></div>\n  )\n}","export function request<T>(input: RequestInfo, option?: RequestInit) {\n  return fetch(input, option).then(res => {\n    const status = res.status\n    if (status === 200 && res.ok) {\n      return res.json() as Promise<T>\n    } else {\n      throw Error('request error')\n    }\n  }).catch(e => {\n    console.log(e.message)\n  })\n}\n","import { useHref } from '@/hooks/useHref';\nimport { AnchorButton, Navbar } from '@blueprintjs/core'\nimport { Article } from '@components/article'\n\nexport function Entry() {\n  const rootHref = useHref('/')\n  const vWorldHref = useHref('/v-world')\n  return (\n    <div className=\"container-bg\">\n      <Navbar>\n        <Navbar.Group>\n          <Navbar.Heading>\n            <AnchorButton text=\"ECHOZH\" href={rootHref} outlined={false} minimal />\n          </Navbar.Heading>\n          <Navbar.Divider />\n          <AnchorButton\n            icon=\"document\"\n            text=\"文章\"\n            outlined={false}\n            minimal\n            href={rootHref}\n          />\n          <AnchorButton\n            icon=\"hand-right\"\n            text=\"瞎搞\"\n            outlined={false}\n            minimal\n            href={vWorldHref}\n          />\n        </Navbar.Group>\n      </Navbar>\n      <Article />\n    </div>\n  );\n}\n","import React from 'react';\nimport { Entry } from '@components/entry';\nimport { useDark } from './hooks';\n\nfunction App() {\n  useDark()\n  return (\n    <Entry />\n  );\n}\n\nexport default App\n","import { useEffect } from \"react\";\n\nexport function useDark() {\n  useEffect(() => {\n    const listener = (e: MediaQueryListEvent) => {\n      if (!e.matches) {\n        window.document.body.classList.remove('bp3-dark')\n        return\n      }\n      window.document.body.classList.add('bp3-dark')\n    }\n    const media = window.matchMedia('(prefers-color-scheme: dark)')\n    if (media.matches) {\n      window.document.body.classList.add('bp3-dark')\n    } else {\n      window.document.body.classList.remove('bp3-dark')\n    }\n    media.addEventListener('change', listener);\n    return () => {\n      media.removeEventListener('change', listener)\n    }\n  }, [])\n}","export default __webpack_public_path__ + \"static/media/stage-1.ea9dd4be.jpeg\";","import { useEffect, useRef } from 'react';\nimport * as THREE from 'three';\n\nimport bgImg from '@assets/images/stage-1.jpeg';\n\nexport default function VWorld() {\n  const ref = useRef<HTMLDivElement>(null);\n\n  // 创建场景\n  useEffect(() => {\n    const el = ref.current;\n    if (!el) {\n      return;\n    }\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n\n    const renderer = new THREE.WebGLRenderer();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    el.appendChild(renderer.domElement);\n\n    const geometry = new THREE.SphereGeometry();\n    const material = new THREE.MeshBasicMaterial({\n      map: new THREE.TextureLoader().load(bgImg),\n    });\n    const cube = new THREE.Mesh(geometry, material);\n    scene.add(cube);\n    const bgTexture = new THREE.TextureLoader().load(bgImg);\n    bgTexture.mapping = THREE.CubeRefractionMapping;\n    bgTexture.wrapS = THREE.RepeatWrapping;\n    bgTexture.wrapT = THREE.RepeatWrapping;\n    bgTexture.repeat.set(1, 1);\n    scene.background = bgTexture;\n\n    camera.position.z = 5;\n    let timer: number | null = null;\n    const animate = function () {\n      timer = requestAnimationFrame(animate);\n\n      cube.rotation.x += 0.01;\n      cube.rotation.y += 0.01;\n\n      renderer.render(scene, camera);\n    };\n    animate();\n    return () => {\n      cancelAnimationFrame(timer);\n    };\n  }, []);\n  return (\n    <div ref={ref} />\n  );\n}\n","import {\n  HashRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom'\n\nimport App from './App'\nimport VWorld from './components/v-world'\n\nexport function RoutesMap() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/v-world\" component={VWorld} />\n        <Route path=\"/\" component={App} />\n      </Switch>\n    </Router>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { RoutesMap } from './route';\n\nimport \"@style/theme.scss\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <RoutesMap />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}